@import "tailwindcss";

:root {
  /* Background - Pure black foundation */
  --bg-primary: #000000;
  --bg-secondary: #0A0A0A;
  --bg-tertiary: #141414;

  /* Foreground - Clean whites and grays */
  --fg-primary: #FFFFFF;
  --fg-secondary: #A3A3A3;
  --fg-muted: #6B6B6B;

  /* Accent - Clean white (minimalist approach) */
  --accent-primary: #FFFFFF;
  --accent-secondary: #E5E5E5;
  --accent-glow: rgba(255, 255, 255, 0.08);

  /* Success - Soft green that works with B&W */
  --success: #4ADE80;
  --success-glow: rgba(74, 222, 128, 0.12);

  /* Borders - Pure grayscale */
  --border-subtle: rgba(255, 255, 255, 0.06);
  --border-default: rgba(255, 255, 255, 0.12);
  --border-strong: rgba(255, 255, 255, 0.20);

  /* Spacing */
  --section-padding: clamp(4rem, 10vw, 8rem);
  --container-max: 1200px;
}

@theme inline {
  --color-bg-primary: var(--bg-primary);
  --color-bg-secondary: var(--bg-secondary);
  --color-bg-tertiary: var(--bg-tertiary);
  --color-fg-primary: var(--fg-primary);
  --color-fg-secondary: var(--fg-secondary);
  --color-fg-muted: var(--fg-muted);
  --color-accent-primary: var(--accent-primary);
  --color-accent-secondary: var(--accent-secondary);
  --color-accent-glow: var(--accent-glow);
  --color-success: var(--success);
  --color-success-glow: var(--success-glow);
  --color-border-subtle: var(--border-subtle);
  --color-border-default: var(--border-default);
  --color-border-strong: var(--border-strong);
  --font-sans: var(--font-sans);
  --font-mono: var(--font-mono);
}

* {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  background: var(--bg-primary);
  color: var(--fg-primary);
  font-family: var(--font-sans), system-ui, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Selection */
::selection {
  background: var(--accent-primary);
  color: var(--bg-primary);
}

/* Focus states for accessibility */
:focus-visible {
  outline: 2px solid var(--accent-primary);
  outline-offset: 2px;
}

/* Reset focus for custom styled elements */
button:focus-visible,
a:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
  outline: 2px solid var(--accent-primary);
  outline-offset: 2px;
}

/* Skip link */
.skip-link {
  position: absolute;
  top: -100%;
  left: 50%;
  transform: translateX(-50%);
  background: var(--accent-primary);
  color: var(--bg-primary);
  padding: 0.75rem 1.5rem;
  border-radius: 0 0 0.5rem 0.5rem;
  font-weight: 600;
  z-index: 9999;
  transition: top 0.2s ease;
}

.skip-link:focus {
  top: 0;
  outline: none;
}

/* Smooth scroll for Lenis */
html.lenis,
html.lenis body {
  height: auto;
}

.lenis.lenis-smooth {
  scroll-behavior: auto !important;
}

.lenis.lenis-smooth [data-lenis-prevent] {
  overscroll-behavior: contain;
}

.lenis.lenis-stopped {
  overflow: hidden;
}

.lenis.lenis-smooth iframe {
  pointer-events: none;
}

/* ================================
   ACCESSIBILITY - REDUCED MOTION
   ================================ */

/* Disable animations when user prefers reduced motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  /* Disable smooth scrolling */
  html {
    scroll-behavior: auto !important;
  }
  
  /* Disable Lenis smooth scroll */
  .lenis.lenis-smooth {
    scroll-behavior: auto !important;
  }
}

/* ================================
   ACCESSIBILITY - FOCUS STYLES
   ================================ */

/* Enhanced focus indicator */
*:focus-visible {
  outline: 2px solid var(--accent-primary);
  outline-offset: 2px;
}

/* Skip link */
.skip-link {
  position: absolute;
  top: -100%;
  left: 50%;
  transform: translateX(-50%);
  background: var(--accent-primary);
  color: var(--bg-primary);
  padding: 0.75rem 1.5rem;
  border-radius: 0 0 0.5rem 0.5rem;
  font-weight: 600;
  z-index: 9999;
  transition: top 0.2s ease;
  text-decoration: none;
}

.skip-link:focus {
  top: 0;
  outline: none;
}

/* Screen reader only utility */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Make sr-only content visible when focused (useful for skip links) */
.sr-only-focusable:focus,
.sr-only-focusable:active {
  position: static;
  width: auto;
  height: auto;
  padding: inherit;
  margin: inherit;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  :root {
    --border-subtle: rgba(250, 248, 245, 0.2);
    --border-default: rgba(250, 248, 245, 0.3);
    --border-strong: rgba(250, 248, 245, 0.5);
  }
}

/* ================================
   SELECTION STATES
   ================================ */

/* Custom selection color */
::selection {
  background: var(--accent-primary);
  color: var(--bg-primary);
}

::-moz-selection {
  background: var(--accent-primary);
  color: var(--bg-primary);
}

/* ================================
   RTL SUPPORT
   ================================ */

/* Use Hebrew font for RTL mode */
html.rtl,
html[dir="rtl"] {
  font-family: var(--font-hebrew), var(--font-sans), system-ui, sans-serif;
}

html.rtl body,
html[dir="rtl"] body {
  font-family: var(--font-hebrew), var(--font-sans), system-ui, sans-serif;
}

/* Logical property fallbacks for older browsers */
html[dir="rtl"] .left-0 {
  left: auto;
  right: 0;
}

html[dir="rtl"] .right-0 {
  right: auto;
  left: 0;
}

/* RTL-specific scroll progress origin */
html[dir="rtl"] .origin-left {
  transform-origin: right;
}

/* Gradient direction flip for RTL */
html[dir="rtl"] .bg-gradient-to-r {
  --tw-gradient-direction: to left;
}

/* RTL arrow flip */
html[dir="rtl"] .rtl-flip {
  transform: scaleX(-1);
}

/* Keep code blocks LTR */
html[dir="rtl"] pre,
html[dir="rtl"] code,
html[dir="rtl"] .font-mono {
  direction: ltr;
  text-align: left;
}

/* Ensure icons stay correct */
html[dir="rtl"] svg {
  /* Most icons should not flip */
}

/* Flip directional icons in RTL */
html[dir="rtl"] .icon-directional {
  transform: scaleX(-1);
}
